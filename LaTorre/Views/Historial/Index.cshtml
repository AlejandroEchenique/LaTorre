
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container" style="margin-top:100px; margin-bottom:100px;">
    <h2 class="text-center">Historial</h2>
    <div class="accordion mt-5" id="accordionPanelsStayOpenExample">
        <div class="accordion-item">
            <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                <button style="background-color: #4578b1; color: white; " class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
                    Mis Compras
                </button>
            </h2>
            <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingOne">
                <div class="accordion-body">
                    <h4>Mis Compras</h4>
                    <div id="cargando" class="text-center">
                        <div class="spinner-border" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </div>
                    <div class="table-responsive" id="contenido">
                        <table id="tabla" class="table table-striped table-bordered display" style="width:100%"></table>
                    </div>
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                <button style="background-color: #4578b1; color: white;" class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
                    Mis Citas
                </button>
            </h2>
            <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo">
                <div class="accordion-body">
                    <h4>Mis Citas</h4>
                    <div id="cargandoCitas" class="text-center">
                        <div class="spinner-border" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </div>
                    <div class="table-responsive" id="contenidoCitas">
                        <table id="tablaCitas" class="table table-striped table-bordered display" style="width:100%"></table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        setTimeout(function () {
            $("#cargando").hide();
            $("#contenido").show();
            $("#cargandoCitas").hide();
            $("#contenidoCitas").show();
        }, 1000);
    });

    tabla = $('#tabla').DataTable({
        columns: [
            { title: "#", width: '5%' },
            { title: "Fecha", width: '15%' },
            { title: "Tipo de recepción", width: '20%' },
            { title: "Dirección", width: '25%' },
            { title: "Total", width: '15%' },
            { title: "Estado", width: '13%' },
            { title: "Detalle", width: '7%' }
        ],
        "language": {
            "url": "//cdn.datatables.net/plug-ins/1.10.19/i18n/Spanish.json"
        },
        "lengthMenu": [[5, 10, 15, -1], [5, 10, 15, "All"]]
    });

    tablaCitas = $('#tablaCitas').DataTable({
        columns: [
            { title: "#", width: '5%' },
            { title: "Fecha y Hora", width: '15%' },
            { title: "Motivo", width: '80%' },
        ],
        "language": {
            "url": "//cdn.datatables.net/plug-ins/1.10.19/i18n/Spanish.json"
        },
        "lengthMenu": [[5, 10, 15, -1], [5, 10, 15, "All"]]
    });

</script>